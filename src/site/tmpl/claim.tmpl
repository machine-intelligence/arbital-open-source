{{/* claim.tmpl is the main body of the claim page */}}
{{define "base"}}
<!DOCTYPE html>
<html lang="en" ng-app>
<head>
	{{template "style"}}
	<link href="/static/css/claim.css" rel="stylesheet">
	{{template "scripts"}}
	<script src="/static/js/claim.js"></script>
</head>

<body>
{{template "navbar" .User}}

{{with .Claim}}
	<div class="bClaim" claim-id="{{.Id}}">
		<div class="claimBody">
			<p>{{if IsUpdated .CreatorId .UpdatedAt}}(U){{end}}<span class="claimText">{{.Text}}</span></p>
			{{range .Tags}}
				<span class="tag">{{.Text}}</span>
			{{end}}
			<a href="#" class="subscribeToClaim" {{if .IsSubscribed}}style="display:none"{{end}}>Subscribe</a>
			<a href="#" class="unsubscribeToClaim" {{if not .IsSubscribed}}style="display:none"{{end}}>Unsubscribe</a>
			{{if IsAdmin}} <!--TODO: another condition -->
				<a href="#" class="editClaim">Edit</a>
			{{end}}
			{{if IsAdmin}}
				<p class="admin">asked by {{.CreatorName}}</p>
			{{end}}
		</div>
		<form class="editClaimForm">
			<input type="text" name="text" class="inputClaim"></br>
			<p class="errorText"></p>
			<img src="/static/images/loading.gif" class="loadingIndicator"/>
			<input type="submit" value="Save"/>
			<a href="#" class="cancelLink cancelClaim">Cancel</a>
		</form>
	</div>
{{end}}

</body>
</html>
{{end}}
