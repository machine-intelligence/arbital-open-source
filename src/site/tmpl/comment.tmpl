{{/* comment.tmpl is the template for a given comment */}}
{{define "comment"}}
<div class="comment" comment-id="{{.Id}}">
	<div class="commentBody">
		<a href="#" class="commentUpvoteLink" {{if ge .MyVote 1}}style="display:none"{{end}}>Upvote</a>
		<a href="#" class="commentResetVoteLink" {{if lt .MyVote 1}}style="display:none"{{end}}>Undo Vote</a>
		<span class="commentVoteCount">{{.UpvoteCount}}</span>
		<span>{{if IsNew .CreatorId .CreatedAt}}(*){{else if IsUpdated .CreatorId .UpdatedAt}}(U){{end}}</span>
		<span class="commentCreatorName">{{.CreatorName}}: </span>
		<span class="commentText">{{.Text}}</span>
		{{if eq .CreatorId UserId}}
			<a href="#" class="editCommentLink">Edit</a>
		{{end}}
	</div>
	<form class="editCommentForm">
		<textarea name="text" class="editCommentTextarea"></textarea>
		<p class="errorText"></p>
		<img src="/static/images/loading.gif" class="loadingIndicator"/>
		<input type="submit" value="Save"/>
		<a href="#" class="cancelLink cancelEditComment">Cancel</a>
	</form>
	<div class="replies">
		{{range .Replies}}
			{{template "comment" .}}
		{{end}}
		{{if le .ReplyToId 0}}
			{{template "newComment" .Id}}
		{{end}}
	</div>
</div>
{{end}}
