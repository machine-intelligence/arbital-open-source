{{/* explorePage.tmpl is the main body of the page that shows all pages */}}
{{define "base"}}
<!DOCTYPE html>
<html>
<head>
	{{template "style"}}
	{{template "scripts"}}
	{{template "angular" .}}
	<title>Explore Zanaduu</title>
	<script>
		// ExploreCtrl is for the Explore page.
		app.controller("ExploreCtrl", function ($scope, pageService) {
			$scope.rootPages = {};
			$scope.childPages = {};
			for (id in pageService.pageMap) {
				var page = pageService.pageMap[id];
				if (page.parents.length <= 0) {
					$scope.rootPages[id] = page;
				} else {
					$scope.childPages[id] = page;
				}
			}
		});
	</script>
</head>

<body ng-app="zanaduu" ng-controller="ZanaduuCtrl">
	{{template "navbar" .User}}
	
	<div class="filter-body-div" ng-controller="ExploreCtrl">
		<znd-page-tree init-map="rootPages" additional-map="childPages" supersize-roots="true"></znd-page-tree>
	</div>
	
	{{template "footer"}}
</body>
</html>
{{end}}
