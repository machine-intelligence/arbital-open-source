<div class="page-body-div" ng-show="page.DeletedBy > 0">
	<div class="alert alert-danger">This page has been deleted.
		<span class="admin" ng-show="userService.user.IsAdmin">
			By id: {[{page.DeletedBy}]}. <a href="#" class="undo-page-delete">Undo.</a>
		</span>
	</div>
</div>
<div class="page-body-div" ng-hide="page.DeletedBy > 0">
	<!-- Left column -->
	<div class="like-column pull-left">
		<!-- Likes / dislikes and approval voting -->
		<div class="page-like-div pull-right" my-like="{[{page.MyLikeValue}]}">
			<div class="pull-right">
				<span class="like-count" ng-bind="page.LikeCount"></span>
				<a href="#"
				   class="like-link glyphicon glyphicon-thumbs-up"
					 ng-class="{'on': page.MyLikeValue >= 1}"
					 title="This is a high quality page"
					 ng-show="userService.user.IsLoggedIn"></a>
				<span class="disabled-like glyphicon glyphicon-thumbs-up" ng-hide="userService.user.IsLoggedIn"></span>
			</div>
			<div class="clearfix"></div>
			<div class="pull-right">
				<span class="dislike-count" ng-bind="page.DislikeCount"></span>
				<a href="#"
					 class="dislike-link glyphicon glyphicon-thumbs-down"
					 ng-class="{'on': page.MyLikeValue <= -1}"
					 title="This is a low quality page"
					 ng-show="userService.user.IsLoggedIn"></a>
				<span class="disabled-dislike glyphicon glyphicon-thumbs-down" ng-hide="userService.user.IsLoggedIn"></span>
			</div>
		</div>
		<div class="clearfix"></div>

		<!-- Page icons like subscribe, edit, and delete. -->
		<div class="page-glyphs pull-right">
			<a href="#"
				 class="subscribe-to-page-link glyphicon glyphicon-eye-open"
				 ng-class="{'on': page.IsSubscribed}"
				 title="Subscribe to receive updates when this page changes or gets new comments"
				 ng-show="userService.user.IsLoggedIn"></a>
			<a ng-href="#page-{[{page.PageId}]}"
				 class="page-anchor-link glyphicon glyphicon-link"
				 title="Link to this answer"
				 ng-show="page.Type == 'answer'"></a>
			<a ng-href="{[{page.EditUrl}]}"
				 class="edit-page-link glyphicon glyphicon-pencil"
				 ng-class="{'admin': page.getEditLevel() == 'admin', 'has-draft': page.HasDraft}"
				 title="{[{page.HasDraft ? 'You have an unpublished draft for this page' : 'Edit this page'}]}"
				 ng-show="page.getEditLevel() == '' || page.getEditLevel() == 'admin'"></a>
			<a href="#"
				 class="delete-page-link glyphicon glyphicon-remove"
				 ng-class="{'admin': page.getDeleteLevel() == 'admin'}"
				 title="Delete this page"
				 ng-show="page.getDeleteLevel() == '' || page.getDeleteLevel() == 'admin'"></a>
		</div>
		<div class="clearfix"></div>

		<!-- Alert to check if the user really wants to delete a page. -->
		<div class="alert alert-danger fade in" id="delete-page-alert" hidden>
			<p>Are you sure you want to delete this page?</p>
			<button type="button" class="delete-page-confirm btn btn-danger">Delete</button>
			<button type="button" class="delete-page-cancel btn btn-default">Cancel</button></br>
		</div>
	</div>

	<!-- Main page column -->
	<div class="text-column">
		<a id="page-{[{page.PageId}]}"></a>
		<znd-page-title page-id="{[{page.PageId}]}" class="page-title"></znd-page-title>
		<div class="author-text" ng-show="page.Type == 'blog'">by <znd-user-name user-id="{[{page.CreatorId}]}"></znd-user-name></div>

		<!-- Voting container -->
		<div class="page-vote" ng-show="page.HasVote"></div>

		<!-- Main page text. Populated by markdown. -->
		<div class="page-text markdown-text"></div>

		<!--Admin stuff -->
		<span class="admin" ng-show="userService.user.IsAdmin">
			Last Visit: {[{page.LastVisit}]}; Last Edit At: {[{page.CreatedAt}]} by <znd-user-name user-id="{[{page.CreatorId}]}"></znd-user-name>
		</span>
	</div>

	<div class="clearfix"></div>

	<!-- Comments row -->
	<div class="comments-row">
		<div class="like-column pull-left">
			&nbsp;
		</div>
		<div class="text-column">
			<!-- Comments -->
			<b id="comments-label">Comments:</b></br>
			<div class="comments">
				<znd-new-comment primary-page-id="{[{page.PageId}]}"></znd-new-comment>
			</div>
		</div>
	</div>
</div>
