<div layout="column" flex>

	<arb-log-row
		page-id="{{::pageId}}"
		by-user-id="{{::changeLog.userId}}"
		type="{{::changeLog.type}}"
		go-to-page-id="{{::changeLog.auxPageId}}"
		created-at="{{::changeLog.createdAt}}"
		old-settings-value="{{::changeLog.oldSettingsValue}}"
		new-settings-value="{{::changeLog.newSettingsValue}}"
		edit="{{::changeLog.edit}}"
		show-user-link="true"
	></arb-log-row>

	<!-- Extra functionality for new edits -->

	<div ng-if="::((changeLog.type === 'newEdit' || changeLog.type === 'newSnapshot') && page.edit !== changeLog.edit)"
			layout="row" layout-align="start center">
		<md-button class="md-warn"
				ng-click="revertToEdit(changeLog.edit)"
				ng-if="::(changeLog.type === 'newEdit' && changeLog.edit !== page.currentEdit)">
			<md-tooltip md-delay="500">Revert to this edit</md-tooltip>
			Revert
		</md-button>
		<md-button ng-click="loadSideEdit(changeLog.edit)">
			<md-tooltip md-delay="500">Show this edit</md-tooltip>
			Show edit
		</md-button>
		<md-button ng-click="showDiff(changeLog.edit)">
			<md-tooltip md-delay="500">Diff with this edit</md-tooltip>
			Diff
		</md-button>
	</div>

	<div ng-if="::((changeLog.type === 'newEdit' || changeLog.type === 'newSnapshot') && changeLog.edit === page.edit)">
		Currently loaded
	</div>

	<div ng-if="::((changeLog.type === 'newEdit' || changeLog.type === 'newSnapshot') && changeLog.edit === page.currentEdit)">
		Currently live
	</div>

</div>
