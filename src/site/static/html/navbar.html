<!-- Template for the navbar, the navigation drop down menu shown at the top right of some pages -->
<nav class="navbar navbar-default"
		ng-class="{'navbar-default': !pageService.privateGroupId, 'navbar-inverse': pageService.privateGroupId}">
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="navbar-brand" ng-href="{[{getDomainUrl()}]}">Arbital</a>
		</div>
		<ul class="nav navbar-nav">
			<!-- Group link for a private group index page -->
			<li class="navbar-header" ng-show="pageService.privateGroupId">
				<a class="navbar-brand" ng-href="/"
						ng-bind="pageService.pageMap[pageService.privateGroupId].title"></a>
			</li>
			<li ng-show="pageService.privateGroupId">
				<a href="/explore/" class="navbar-link">Explore</a>
			</li>
			<!-- Explore link for a domain index page -->
			<li ng-show="pageService.domainAlias">
				<a ng-href="/explore/{[{pageService.domainAlias}]}">Explore</a>
			</li>
		</ul>
		<ul class="nav navbar-nav navbar-right">
			<li ng-show="user.isLoggedIn && userService.userIsCool()">
				<a href="/edit">+New Page</a>
			</li>
			<li ng-show="user.isLoggedIn">
				<a href="/updates">
					Updates
					<span class="badge"
							ng-class="{'alert-danger': user.updateCount > 0}"
							ng-bind="user.updateCount"></span>
				</a>
			</li>
			<li class="dropdown" ng-show="user.isLoggedIn">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">
					<span ng-bind="user.email"></span>
					<!-- <span class="karma badge" ng-bind="user.karma"></span> -->
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu" role="menu">
					<li ng-show="user.isAdmin">
						<a class="admin" href="/domains">All Domains</a>
					</li>
					<li class="divider" ng-show="user.isAdmin"></li>

					<!-- List of groups -->
					<li class="dropdown-header" ng-show="userService.user.groupIds.length > 0">Go To Group</li>
					<li ng-repeat="groupId in userService.user.groupIds"
						ng-init="groupAlias=pageService.pageMap[groupId].alias">
						<a ng-href="{[{getDomainUrl(groupAlias)}]}" ng-bind="groupAlias"></a>
					</li>
					<li class="divider" ng-show="userService.user.groupIds.length > 0"></li>

					<li><a ng-href="{[{userService.getUserUrl(user.id)}]}">Profile</a></li>
					<li><a ng-href="/groups">Groups</a></li>
					<li><a ng-href="/settings">Settings</a></li>
					<li class="divider"></li>
					<li><a ng-href="{[{user.logoutLink}]}" id="logout">Log Out</a></li>
				</ul>
			</li>
			<li ng-hide="user.isLoggedIn">
				<a ng-href="/signup/?continueUrl={[{user.currentUrl}]}">Sign Up</a>
			</li>
			<li ng-hide="user.isLoggedIn">
				<a ng-href="{[{user.loginLink}]}?continueUrl={[{user.currentUrl}]}">Log In</a>
			</li>
		</ul>
	</div>
</nav>
<input type="text" id="nav-search" class="nav-search form-control" placeholder="Search">

<!-- ======= Collection of common popover templates ======= -->

<!-- This div shows up when the user tries to take an action that requires them to be logged in. -->
<div id="signup-popover-template" hidden>
	<div class="popover-summary">
		You have to be logged in.
	</div>
</div>

<!-- This div shows up when the user hovers over an intra-site link. -->
<div id="link-popover-template" hidden>
	<div class="popover-blog-owner"></div>
	<span class="popover-summary markdown-text"></span>

	<!-- Likes / dislikes and approval voting -->
	<div class="like-span">
		<span class="like-count">JS inserts likes</span>
		<span class="disabled-like glyphicon glyphicon-thumbs-up"></span>
		&nbsp;
		<span class="dislike-count">JS inserts dislikes</span>
		<span class="disabled-dislike glyphicon glyphicon-thumbs-down"></span>
	</div>

	<!-- Answers and probability votes -->
	<div class="vote"></div>
</div>
