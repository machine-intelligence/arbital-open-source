<div class="capped-body-width">

	<!-- What is Arbital? page -->
	<h1 ng-bind="::page.title"></h1>
	<div arb-markdown
			page-id="{{::page.pageId}}"
			class="lens-text-container md-whiteframe-1dp reveal-after-render"></div>
	<br><br>

	<!-- Begin MailChimp Signup Form -->
	<h1 id="subscribe">Subscribe to our mailing list</h1>
	<div id="mc-signup" class="lens-text-container md-whiteframe-1dp">
		<div ng-if="subscribed">
			Thank you!
			<span ng-if="::!alreadySubscribed">
				Please check your inbox for the confirmation email.
			</span>
		</div>
		<div ng-if="!subscribed">
			<md-input-container>
				<label>
					Your email
				</label>
				<input type="email" ng-model="subscribeData.email" required>
			</md-input-container>
			<div layout="column">
				<p><strong>What are you interested in?</strong></p>
				<md-checkbox ng-model="subscribeData.interests['7ec5d431b0']">
				  Receiving general updates about Arbital (once a month)
				</md-checkbox>
				<md-checkbox ng-model="subscribeData.interests['7b38bc3921']">
				  Explaining math topics on Arbital
				</md-checkbox>
			</div>
			<div>
				<md-button class="md-primary"
						ng-class="{'md-raised': !alreadySubscribed}"
						ng-click="subscribeToList()"
						ng-bind="::alreadySubscribed ? 'Update subscription' : 'Subscribe'"
						aria-label="Subscribe">
				</md-button>
				<div class="md-warn" ng-bind="subscribeError" ng-if="subscribeError"></div>
			</div>
		</div>
	</div>
	<br><br>

	<!-- Domains -->
	<h1>Browse popular domains</h1>
	<div layout="column">
		<!-- Domain -->
		<div class="arb-page-list md-whiteframe-1dp"
				ng-repeat="domain in ::featuredDomains">
			<md-toolbar class="md-hue-2">
				<div class="md-toolbar-tools">
					<a ng-href="/domains/{{::pageService.pageMap[domain.domainId].alias}}"
						ng-bind="::(pageService.pageMap[domain.domainId].title + ' domain')"></a>
				</div>
			</md-toolbar>
			<md-subheader ng-bind="::pageService.pageMap[domain.domainId].clickbait">
			</md-subheader>
			<md-list>
				<md-list-item ng-repeat="childId in ::domain.childIds">
					<div layout="row" layout-align="start start" flex>
						<arb-likes page-id="{{::childId}}"></arb-likes>
						<arb-page-title page-id="{{::childId}}"
								is-link="true"
								show-clickbait="true"
								flex="100"></arb-page-title>
					</div>
					<md-divider ng-if="::!$last"></md-divider>
				</md-list-item>
			</md-list>
		</div>
	</div>
</div>
