<div class="intrasite-popover" ng-class="::{
			'touch-device': arb.isTouchDevice,
		}">

	<!-- Vote bar -->
	<div arb-vote-bar class="white-background md-padding"
			page-id="{{::page.pageId}}"
			is-embedded="true"
			ng-if="::(page.hasVote && isLoaded)"></div>

	<!-- Loading spinner -->
	<div layout="column"
			layout-align="center center"
			ng-if="!isLoaded">
		<md-progress-circular md-mode="indeterminate"></md-progress-circular>
	</div>

	<!-- Lens tabs -->
	<md-tabs class="md-primary md-hue-2"
			ng-class="::{'hide-tabs': summaries.length <= 1}"
			md-dynamic-height
			ng-if="::isLoaded">
		<md-tab ng-repeat="summary in ::summaries" label="{{::summary.name}}">
			<md-tab-body>
				<div layout="column">
					<md-content class="prevent-scroll-leak popover-tab-body" layout="column" layout-padding>
						<!-- Title row -->
						<div class="intrasite-popover-title" layout="row" layout-align="start center">
							<div flex>
								<!-- Title -->
								<arb-page-title page-id="{{::page.pageId}}"
										custom-page-title="{{::page.isComment() ? 'Comment': undefined}}"
										ng-if="::page" flex></arb-page-title>
							</div>

							<!-- Likes -->
							<arb-likes class="s20" object-id="{{::pageId}}" is-button="true"></arb-likes>
						</div>

						<!-- Summary content -->
						<arb-markdown class="popover-text-container"
								page-id="{{::pageId}}"
								summary-name="{{::summary.name}}"></arb-markdown>

						<!-- Number of characters -->
						<div class="md-caption">{{::page.textLength}} characters on the full page</div>
					</md-content>
				</div>
			</md-tab-body>
		</md-tab>
	</md-tabs>
</div>
