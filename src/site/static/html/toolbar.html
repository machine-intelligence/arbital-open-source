<!-- Template for the toolbar -->
<md-toolbar class="md-whiteframe-6dp">
	<div class="md-toolbar-tools">
		<a ng-href="{{pageService.getDomainUrl()}}">Arbital</a>

		<a ng-href="/"
				ng-bind="pageService.pageMap[pageService.privateGroupId].title"
				ng-show="pageService.privateGroupId"></a>

		<!-- Search -->
		<span flex="10"></span>
		<md-autocomplete md-selected-item="selectedItem" md-search-text="searchText" md-items="item in getMatches(searchText)" md-item-text="item.display" flex="80">
			<md-item-template>
				<span md-highlight-text="searchText">{{item.display}}</span>
			</md-item-template>
			<md-not-found>
				No matches found.
			</md-not-found>
		</md-autocomplete>
		<span flex="10"></span>

		<!-- Updates -->
		<md-button class="md-icon-button" ng-show="userService.user.isLoggedIn">
			<md-icon>notifications</md-icon>
			<span ng-bind="userService.user.updateCount"></span>
		</md-button>

		<!-- Login/signup buttons -->
		<md-button ng-href="/signup/?continueUrl={{currentUrl}}"
				ng-hide="userService.user.isLoggedIn">
			Sign Up
		</md-button>
		<md-button ng-href="/login/?continueUrl={{currentUrl}}"
				target="_self"
				ng-hide="userService.user.isLoggedIn">
			Log In
		</md-button>

		<!-- Button for RHS sidebar -->
		<md-button class="md-icon-button"
				ng-click="openRightMenu()"
				ng-show="userService.user.isLoggedIn">
			<md-icon>menu</md-icon>
    </md-button>
	</div>
</md-toolbar>

<md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id="right">
	<md-toolbar>
		<h1 class="md-toolbar-tools" ng-bind="userService.user.email"></h1>
	</md-toolbar>
	<md-content>
			<div ng-show="userService.user.isAdmin">
				<a class="admin" href="/domains">All Domains</a>
			</div>
			<md-divider></md-divider>

			<!-- List of groups -->
			<md-subheader ng-show="userService.user.groupIds.length > 0">
				Go To Group
			</md-subheader>
			<div ng-repeat="groupId in userService.user.groupIds"
				ng-init="groupAlias=pageService.pageMap[groupId].alias">
				<a ng-href="{{pageService.getDomainUrl(groupAlias)}}" ng-bind="groupAlias"></a>
			</div>
			<md-divider></md-divider>

			<a ng-href="{{userService.getUserUrl(userService.user.id)}}">Profile</a>
			<a ng-href="/groups">Groups</a>
			<a ng-href="/settings">Settings</a>
			<md-divider></md-divider>

			<md-button ng-href="/logout/?continueUrl={{currentUrl}}"
					id="logout"
					target="_self">Log Out</md-button>
		</form>
	</md-content>
</md-sidenav>
