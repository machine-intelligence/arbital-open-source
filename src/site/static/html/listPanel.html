<md-card ng-class="{'capped-body-width': isFullPage}" ng-if="items.length != 0">
	<md-toolbar class="md-hue-2" ng-if="::title">
		<div class="md-toolbar-tools">
			<span ng-bind="::title" flex ng-if="!(numToDisplay)"></span>
			<a ng-bind="::title" ng-href="{{::moreLink}}" flex ng-if="numToDisplay"></a>
		</div>
	</md-toolbar>

	<md-list class="ng-scope">
		<md-list-item ng-repeat="listItem in items | orderBy:'-createdAt' | limitTo:numToDisplay"
				class="panel-list-item"
				ng-class="{'unseen-update': listItem.createdAt > lastView}">

			<div ng-switch="::rowTemplate" flex>
				<arb-page-row page="listItem" ng-switch-when="page"></arb-page-row>
				<arb-hedons-row new-like="listItem" ng-switch-when="hedons"></arb-hedons-row>
				<arb-discussion-row item="listItem" ng-switch-when="discussion"></arb-discussion-row>
			</div>

			<md-divider ng-if="::!$last"></md-divider>
		</md-list-item>
	</md-list>

	<md-toolbar layout="row"
			layout-align="end center"
			class="layout-align-end-center layout-row list-panel-footer md-hue-1"
			ng-if="moreLink && items.length > numToDisplay">
		<span class="md-caption" ng-if="items.length > numToDisplay">
			+ {{items.length - numToDisplay}} more
		</span>
		<md-button ng-href="{{::moreLink}}" class="md-primary">
			<md-icon>arrow_forward</md-icon>
			See all
		</md-button>
	</md-toolbar>
</md-card>
