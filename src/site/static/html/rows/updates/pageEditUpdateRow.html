<div layout="column">
	<div layout="row" layout-align="start center">
		<div layout="row" layout-align="start center" flex>
			<arb-update-row-expand-button></arb-update-row-expand-button>
			<span>
				<!-- a user -->
				<arb-user-name user-id="{{::byUserId}}"></arb-user-name>

				<!-- made or proposed an edit -->
				<span ng-switch="changeLog.type">
					<span ng-switch-when="newEditProposal">proposed an edit to</span>
					<span ng-switch-default>edited</span>
				</span>

				<!-- to a page -->
				<arb-page-title page-id="{{::goToPageId}}" is-link="true"></arb-page-title>

				<!-- with this edit summary -->
				<span ng-if="::changeLog.newSettingsValue">
					&mdash; <i>{{::changeLog.newSettingsValue}}</i>
				</span>

			</span>
		</div>
		<arb-update-timestamp></arb-update-timestamp>
		<arb-update-row-dismiss-button></arb-update-row-dismiss-button>
	</div>

	<div class="expand-tray" ng-if="expanded">
		<arb-edit-diff change-log="::changeLog" just-diff="true"></arb-edit-diff>
		<md-button ng-click="arb.pageService.approveEditProposal(changeLog)"
			ng-if="changeLog.type == 'newEditProposal'">Approve</md-button>
		<arb-update-row-like-button></arb-update-row-like-button>
	</div>
</div>
