<div layout="column">
	<!-- The primary page -->
	<arb-page class="reveal-after-render" page-id="{{pageService.primaryPage.pageId}}"></arb-page>

	<!-- Answers for a question page -->
	<div ng-show="page.type === 'question'">
		<h1>Answers ({{page.answerIds.length}})</h1>
		<div ng-repeat="answerId in page.answerIds">
			<arb-page class="reveal-after-render" page-id="{{answerId}}"></arb-page>
		</div>
	</div>

	<!-- Create an answer -->
	<div id="your-answer" ng-show="page.type === 'question'">
		<h2>Suggest an answer</h2>
		<arb-autocomplete placeholder="Find existing answers..."
				page-type="answer"
				on-select="suggestedAnswer(result)"></arb-autocomplete>

		<h2>Or write a new one</h2>

		<!-- New Answer for a question page -->
		<div arb-edit-page
				class="new-answer-div reveal-after-render"
				use-full-view="true"
				page-id="{{newAnswerId}}"
				done-fn="answerDone(result)"
				ng-if="newAnswerId"></div>
	</div>
	
	<div layout="row" layout-margin>
		<!-- Children -->
		<div class="md-whiteframe-1dp" layout="column" flex ng-hide="page.childIds.length <= 0">
			<h2>Children</h2>
			<md-list>
				<md-list-item class="md-2-line" ng-repeat="childId in page.childIds">
					<arb-likes page-id="{{childId}}"></arb-likes>
					<div class="md-list-item-text" layout="column">
						<arb-page-title page-id="{{childId}}"
								is-link="true"
								show-clickbait="true"></arb-page-title>
					</div>
				</md-list-item>
			</md-list>
		</div>

		<!-- Related -->
		<div class="md-whiteframe-1dp" layout="column" flex ng-hide="page.relatedIds.length <= 0">
			<h2>Related</h2>
			<md-list>
				<md-list-item class="md-2-line" ng-repeat="relatedId in page.relatedIds">
					<arb-likes page-id="{{relatedId}}"></arb-likes>
					<div class="md-list-item-text" layout="column">
						<arb-page-title page-id="{{relatedId}}"
								is-link="true"
								show-clickbait="true"></arb-page-title>
					</div>
				</md-list-item>
			</md-list>
		</div>
	</div>

	<arb-footer></arb-footer>
</div>
